<!DOCTYPE html>
<html lang="bg">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Barber Booking</title>

<style>
body {
font-family: Arial, sans-serif;
background: #111;
color: white;
text-align: center;
margin: 0;
}
header {
padding: 20px;
background: black;
}
.container {
padding: 20px;
}
input, button {
padding: 12px;
font-size: 16px;
margin: 10px;
width: 90%;
}
button {
background: gold;
border: none;
cursor: pointer;
}
.times button {
width: 45%;
margin: 5px;
}
.hidden {
display: none;
}
</style>
</head>

<body>

<header>
<h1>üíà Barber Shop</h1>
<p>–ó–∞–ø–∞–∑–∏ —Å–∏ —á–∞—Å</p>
</header>

<div class="container">

<!-- –ö–ê–õ–ï–ù–î–ê–† -->
<input type="date" id="date">

<!-- –ß–ê–°–û–í–ï -->
<div id="times" class="times hidden"></div>

<!-- –§–û–†–ú–ê -->
<div id="form" class="hidden">
<input type="text" id="name" placeholder="–ò–º–µ">
<input type="tel" id="phone" placeholder="–¢–µ–ª–µ—Ñ–æ–Ω">
<button onclick="book()">–ü–æ—Ç–≤—ä—Ä–¥–∏ —á–∞—Å–∞</button>
</div>

<!-- –ì–û–¢–û–í–û -->
<div id="done" class="hidden">
<h2>‚úîÔ∏è –ß–∞—Å—ä—Ç –µ –∑–∞–ø–∞–∑–µ–Ω!</h2>
</div>

</div>

<script>
const hours = ["09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00"];
let selectedDate = "";
let selectedTime = "";

document.getElementById("date").addEventListener("change", function() {
selectedDate = this.value;
showTimes();
});

function showTimes() {
const timesDiv = document.getElementById("times");
timesDiv.innerHTML = "<h3>–°–≤–æ–±–æ–¥–Ω–∏ —á–∞—Å–æ–≤–µ</h3>";
timesDiv.classList.remove("hidden");

const booked = JSON.parse(localStorage.getItem(selectedDate)) || [];

hours.forEach(time => {
if (!booked.includes(time)) {
const btn = document.createElement("button");
btn.innerText = time;
btn.onclick = () => selectTime(time);
timesDiv.appendChild(btn);
}
});
}

function selectTime(time) {
selectedTime = time;
document.getElementById("form").classList.remove("hidden");
}

function book() {
const name = document.getElementById("name").value;
const phone = document.getElementById("phone").value;

if (!name || !phone) {
alert("–ú–æ–ª—è –ø–æ–ø—ä–ª–Ω–∏ –∏–º–µ –∏ —Ç–µ–ª–µ—Ñ–æ–Ω");
return;
}

const booked = JSON.parse(localStorage.getItem(selectedDate)) || [];
booked.push(selectedTime);
localStorage.setItem(selectedDate, JSON.stringify(booked));

document.getElementById("form").classList.add("hidden");
document.getElementById("times").classList.add("hidden");
document.getElementById("done").classList.remove("hidden");
}
</script>

</body>
</html>
